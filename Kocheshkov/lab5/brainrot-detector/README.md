# Детектор «брейнорот-кластеров» в VK-клипах

Платформа для анализа VK-клипов и вычисления «брейнорот-интенсивности» — частоты появления мемных, абсурдных и гиперактивных стимулов.

## Возможности

- Парсинг VK-клипов и TikTok в реальном времени
- Анализ видео с помощью CLIP, ViT и Whisper
- Вычисление BRAINROT INDEX на основе метрик хаотичности
- Админка с трекингом трендов, графиками и аналитикой

## Установка

### 1. Установите зависимости Python

```bash
pip install -r requirements.txt
```

### 2. Установите FFmpeg (для обработки аудио)

**Windows:**
- Скачайте с https://ffmpeg.org/download.html
- Добавьте в PATH

**Linux:**
```bash
sudo apt-get install ffmpeg
```

**macOS:**
```bash
brew install ffmpeg
```

### 3. Запуск

**Важно:** Все пакеты устанавливаются на диск H: в виртуальном окружении.

#### Способ 1: Автоматический запуск (рекомендуется)

```bash
run.bat
```

Этот скрипт автоматически:
- Создаст виртуальное окружение на диске H: (если его нет)
- Активирует его
- Установит зависимости (если нужно)
- Запустит приложение

#### Способ 2: Ручной запуск

```bash
# Активируйте виртуальное окружение
activate.bat

# Или в PowerShell:
.\venv\Scripts\Activate.ps1

# Запустите приложение
python run.py
```

Откройте браузер: http://localhost:8000

**Примечание:** Виртуальное окружение находится в `H:\brainrot-detector\venv` - все пакеты установлены там, а не на диске C:

## Использование

1. Вставьте URL VK-клипа или TikTok в поле ввода
2. Нажмите "Анализировать" - анализ запустится в фоне
3. Или нажмите "Парсить тренды" для анализа 10 трендовых видео
4. Данные обновляются автоматически каждые 30 секунд

## Модели

- **CLIP**: `openai/clip-vit-large-patch14` - видеоэмбеддинги для анализа визуального контента
- **ViT**: `google/vit-base-patch16-224` - классификация медиапаттернов (резкие монтажи, гиперконтраст)
- **Whisper**: `openai/whisper-large-v3` - извлечение текста и вирусных словоформ

## BRAINROT INDEX

Вычисляется как взвешенная метрика:
- Плотность резких переходов (30%)
- Вариативность паттернов / "стимы" (20%)
- Темп речи (20%)
- Насыщенность мемных токенов (15%)
- Гиперактивность (15%)

## Примечания

- Первый запуск загрузит модели (~5-10 ГБ)
- Анализ одного видео занимает 1-3 минуты
- Видео не сохраняются на диск, обрабатываются в памяти

